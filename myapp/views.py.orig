from rest_framework.views import APIView
from django.http import *
from django.template import *
from django.shortcuts import *
import json
from rest_framework import generics
from rest_framework.request import Request
from django.contrib.auth.models import User
from rest_framework.authentication import TokenAuthentication
from rest_framework.permissions import IsAuthenticated
from rest_framework.response import Response
from rest_framework.status import HTTP_201_CREATED, HTTP_400_BAD_REQUEST
import django_filters
from rest_framework import filters
from .serializers import *
from .models import *
# Create your views here.
class userApiView(generics.ListCreateAPIView):
    queryset = user.objects.all()
    def get_serializer_class(self):
        if self.request.method == 'POST':
            return UserWriteSerializer
<<<<<<< HEAD
        return UserSerializer

class dataApiView(generics.ListCreateAPIView):
    queryset = data.objects.all()
    def get_serializer_class(self):
        return dataSerializer

class projectApiView(generics.ListCreateAPIView):
    queryset = projects.objects.all()
    def get_serializer_class(self):
        return projectSerializer

=======
        if(UserSerializer.count==1):
            return UserSerializer
        else:
            return 1

def login(request):
    if(request.method=='POST'):
        Array = json.loads(request.body)
        count=user.objects.filter(username=Array['username'],password=Array['password']).count()
        if(count==1):
            user1=user.objects.get(username=Array['username'],password=Array['password'])
            request.session['username']=Array['username']
            response = {}
            response['status'] = 0
            return HttpResponse(json.dumps(response))
        else:
            response={}
            response['status']=1
            return HttpResponse(json.dumps(response))
    else:
        return render(request,'myapp/login.html')
>>>>>>> d403a105849116c900ccd3269d2418bc0d383f04
